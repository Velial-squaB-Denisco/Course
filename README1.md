**Полный курс: Теория вероятностей и математическая статистика**  
**От основ до экспертного уровня с практикой, кодом и проектами**

---

### **Уровень 0: Математический фундамент**
#### **Подуровень 0.1: Комбинаторика и логика**
- **Темы**:
  - Правило умножения и сложения.
  - Перестановки, сочетания, размещения (с повторениями и без).
  - Формула включений-исключений.
  - Логические операции: Импликация, эквивалентность.
- **Задачи**:
  - *Ручные*:  
    - «Сколько способов выбрать 3 книги из 10?»  
    - «Сколько анаграмм у слова "ВЕРОЯТНОСТЬ"?»  
  - *Программирование*:  
    ```python
    import itertools
    # Все сочетания из 5 элементов по 2
    print(list(itertools.combinations(range(5), 2)))
    ```

#### **Подуровень 0.2: Основы анализа**
- **Темы**:
  - Пределы, интегралы (Римана, Лебега).
  - Ряды (геометрический, гармонический).
  - Графики функций (нормальное распределение, экспонента).
- **Визуализация**:
  ```python
  import matplotlib.pyplot as plt
  import numpy as np
  x = np.linspace(-3, 3, 100)
  y = np.exp(-x**2 / 2) / np.sqrt(2*np.pi)  # Плотность N(0,1)
  plt.plot(x, y)
  plt.title("Нормальное распределение")
  plt.show()
  ```

---

### **Уровень 1: Основы вероятности**
#### **Подуровень 1.1: Классическая вероятность**
- **Темы**:
  - Аксиомы Колмогорова.
  - Условная вероятность, формула Байеса.
  - Независимые события.
- **Пример**: Броски кубика, урны с шарами.
- **Задача**:  
  - *Ручная*: «Вероятность выпадения орла 3 раза подряд».  
  - *Программирование*:  
    ```python
    import random
    def coin_flip(n):
        return sum(random.choice([0,1]) for _ in range(n))
    print(f"Орлов из 100 бросков: {coin_flip(100)}")
    ```

#### **Подуровень 1.2: Парадоксы и нестандартные задачи**
- **Темы**:
  - Парадокс Монти Холла.
  - Задача о двух конвертах.
  - Парадокс Симпсона.
- **Код для парадокса Монти Холла**:
  ```python
  wins = 0
  for _ in range(10000):
      door = [0, 0, 1]  # 1 = авто, 0 = коза
      choice = random.randint(0, 2)
      monty = next(i for i in range(3) if i != choice and door[i] == 0)
      switch = next(i for i in range(3) if i != choice and i != monty)
      wins += door[switch] == 1
  print(f"Шанс при смене выбора: {wins / 10000}")
  ```

---

### **Уровень 2: Случайные величины и распределения**
#### **Подуровень 2.1: Дискретные распределения**
- **Темы**:
  - Биномиальное, Пуассоновское, гипергеометрическое.
  - Матожидание и дисперсия.
- **Пример**:  
  - *Ручная*: «Найдите P(X=3) для Bin(n=5, p=0.4)».  
  - *Программирование*:  
    ```python
    from scipy.stats import binom
    print(f"P(X=3): {binom.pmf(3, n=5, p=0.4):.3f}")
    ```

#### **Подуровень 2.2: Непрерывные распределения**
- **Темы**:
  - Нормальное, экспоненциальное, равномерное.
  - Квантили, z-значения.
- **Код**:  
  ```python
  data = np.random.normal(0, 1, 1000)
  print(f"95% данных лежит между {np.quantile(data, 0.025)} и {np.quantile(data, 0.975)}")
  ```

---

### **Уровень 3: Статистика и проверка гипотез**
#### **Подуровень 3.1: Описательная статистика**
- **Темы**:
  - Среднее, медиана, мода.
  - Дисперсия, стандартное отклонение, IQR.
- **Код**:  
  ```python
  data = [2, 4, 6, 8]
  print(f"Среднее: {np.mean(data)}, Дисперсия: {np.var(data)}")
  ```

#### **Подуровень 3.2: Проверка гипотез**
- **Темы**:
  - t-тест, χ²-тест, ANOVA.
  - Доверительные интервалы.
- **Пример**: Сравнение средних двух групп.  
  ```python
  from scipy.stats import ttest_ind
  group1 = np.random.normal(50, 10, 100)
  group2 = np.random.normal(55, 10, 100)
  t_stat, p_val = ttest_ind(group1, group2)
  print(f"p-value: {p_val:.4f}")
  ```

---

### **Уровень 4: Байесовская статистика**
#### **Подуровень 4.1: Базовый Байесовский вывод**
- **Темы**:
  - Априорные и апостериорные распределения.
  - Сопряженные априоры (бета-биномиальное).
- **Код**:  
  ```python
  from scipy.stats import beta
  prior = beta(1, 1)  # Uniform prior
  posterior = beta(1 + 5, 1 + 15)  # 5 успехов, 15 неудач
  print(f"95% интервал: {posterior.interval(0.95)}")
  ```

#### **Подуровень 4.2: MCMC и продвинутые методы**
- **Темы**:
  - Алгоритм Метрополиса-Гастингса.
  - Сэмплирование Гиббса.
- **Код**:  
  ```python
  import pymc3 as pm
  with pm.Model():
      p = pm.Beta('p', alpha=1, beta=1)
      y = pm.Binomial('y', n=10, p=p, observed=7)
      trace = pm.sample(1000)
  pm.plot_posterior(trace)
  ```

---

### **Уровень 5: Машинное обучение и продвинутые методы**
#### **Подуровень 5.1: Регрессия и классификация**
- **Темы**:
  - Линейная и логистическая регрессия.
  - Наивный Байес.
- **Код**:  
  ```python
  from sklearn.linear_model import LogisticRegression
  model = LogisticRegression()
  model.fit(X_train, y_train)
  print(f"Точность: {model.score(X_test, y_test)}")
  ```

#### **Подуровень 5.2: Глубокое обучение**
- **Темы**:
  - Нейронные сети с dropout для учета неопределенности.
  - Байесовские нейронные сети.
- **Код**:  
  ```python
  import tensorflow_probability as tfp
  model = tf.keras.Sequential([
      tfp.layers.DenseVariational(units=10, input_shape=(8,)),
      tf.keras.layers.Dense(1, activation='sigmoid')
  ])
  ```

---

### **Уровень 6: Экспертные темы**
#### **Подуровень 6.1: Стохастические процессы**
- **Темы**:
  - Броуновское движение.
  - Пуассоновский процесс.
- **Код**:  
  ```python
  # Броуновское движение
  steps = np.random.normal(0, 1, 1000)
  walk = np.cumsum(steps)
  plt.plot(walk)
  plt.show()
  ```

#### **Подуровень 6.2: Теория информации**
- **Темы**:
  - Энтропия Шеннона.
  - KL-дивергенция.
- **Код**:  
  ```python
  from scipy.stats import entropy
  p = [0.2, 0.8]
  q = [0.5, 0.5]
  print(f"KL-дивергенция: {entropy(p, q)}")
  ```

---

### **Дополнительные разделы**
#### **1. Экстремальная теория вероятностей**
- **Темы**: Распределения Гумбеля, анализ редких событий.
- **Проект**: Расчет 100-летнего наводнения.
- **Код**:  
  ```python
  from scipy.stats import genextreme
  params = genextreme.fit(data)
  print(f"Параметры: {params}")
  ```

#### **2. Теория очередей**
- **Темы**: Модели M/M/1, оптимизация сервисов.
- **Код**:  
  ```python
  import simpy
  def client(env, name, server):
      with server.request() as req:
          yield req
          yield env.timeout(np.random.exponential(5))
  env = simpy.Environment()
  server = simpy.Resource(env, capacity=2)
  env.run(until=100)
  ```

---

### **Ресурсы**
- **Книги**:
  - *«Теория вероятностей и математическая статистика»* (Гмурман).
  - *«Pattern Recognition and Machine Learning»* (Bishop).
- **Курсы**:
  - [Harvard Stat 110](https://projects.iq.harvard.edu/stat110) (бесплатные лекции).
  - [Coursera: Bayesian Statistics](https://www.coursera.org/specializations/bayesian-statistics).
- **Датасеты**:
  - [Kaggle](https://www.kaggle.com/).
  - [UCI Machine Learning Repository](https://archive.ics.uci.edu/ml/index.php).

---

### **План обучения**
- **Месяцы 1-3**: Уровни 0-2 (база + распределения).  
- **Месяцы 4-6**: Уровни 3-4 (статистика + Байес).  
- **Месяцы 7-12**: Уровни 5-6 (ML + экспертные темы).  

---
